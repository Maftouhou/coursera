!function(n){"use strict";var e={init:function(e){var o={top:"auto",left:"auto",autoOpen:!1,overlayOpacity:.5,overlayColor:"#000",overlayClose:!0,overlayParent:"body",closeOnEscape:!0,closeButtonClass:".close",transitionIn:"",transitionOut:"",onOpen:!1,onClose:!1,zIndex:function(){return 999999},updateZIndexOnOpen:!0};return e=n.extend(o,e),this.each(function(){var o=e,t=n('<div class="lean-overlay"></div>'),i=n(this);t.css({display:"none",position:"fixed","z-index":o.updateZIndexOnOpen?0:o.zIndex(),top:0,left:0,height:"100%",width:"100%",background:o.overlayColor,opacity:o.overlayOpacity,overflow:"auto"}).appendTo(o.overlayParent),i.css({display:"none",position:"fixed","z-index":o.updateZIndexOnOpen?0:o.zIndex()+1,left:parseInt(o.left,10)>-1?o.left+"px":"50%",top:parseInt(o.top,10)>-1?o.top+"px":"50%"}),i.bind("openModal",function(){var n=o.updateZIndexOnOpen?o.zIndex():parseInt(t.css("z-index"),10),e=n+1;""!==o.transitionIn&&""!==o.transitionOut&&i.removeClass(o.transitionOut).addClass(o.transitionIn),i.css({display:"block","margin-left":(parseInt(o.left,10)>-1?0:-(i.outerWidth()/2))+"px","margin-top":(parseInt(o.top,10)>-1?0:-(i.outerHeight()/2))+"px","z-index":e}),t.css({"z-index":n,display:"block"}),o.onOpen&&"function"==typeof o.onOpen&&o.onOpen(i[0])}),i.bind("closeModal",function(){""!==o.transitionIn&&""!==o.transitionOut?(i.removeClass(o.transitionIn).addClass(o.transitionOut),i.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i.css("display","none"),t.css("display","none")})):(i.css("display","none"),t.css("display","none")),o.onClose&&"function"==typeof o.onClose&&o.onClose(i[0])}),t.click(function(){o.overlayClose&&i.trigger("closeModal")}),n(document).keydown(function(n){o.closeOnEscape&&27===n.keyCode&&i.trigger("closeModal")}),jQuery&&!jQuery.fn.live?i.on("click",o.closeButtonClass,function(n){i.trigger("closeModal"),n.preventDefault()}):i.live("click",o.closeButtonClass,function(n){i.trigger("closeModal"),n.preventDefault()}),o.autoOpen&&i.trigger("openModal")})}};n.fn.easyModal=function(o){return e[o]?e[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?void n.error("Method "+o+" does not exist on jQuery.easyModal"):e.init.apply(this,arguments)}}(jQuery);